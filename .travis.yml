language: python
os: linux
dist: xenial
sudo: required

env:
  ORACLE_SID=XE OCI_LIB_DIR=/u01/app/oracle/product/11.2.0/xe/lib LD_LIBRARY_PATH=/u01/app/oracle/product/11.2.0/xe/lib
before_install:
  - sudo apt-get install p7zip-full
  - sudo apt-get install yum
  - yum install -y binutils.x86_64 compat-libcap1.x86_64 gcc.x86_64 gcc-c++.x86_64 glibc.i686 glibc.x86_64 glibc-devel.i686 glibc-devel.x86_64 ksh compat-libstdc++-33 libaio.i686 libaio.x86_64 libaio-devel.i686 libaio-devel.x86_64 libgcc.i686 libgcc.x86_64 libstdc++.i686 libstdc++.x86_64 libstdc++-devel.i686 libstdc++-devel.x86_64 libXi.i686 libXi.x86_64 libXtst.i686 libXtst.x86_64 make.x86_64 sysstat.x86_64 zip unzip
  - wget https://raw.githubusercontent.com/acekun141/installoracledb18c/master/download.sh
  - bash ./download.sh
  - 7z x oracle-database-xe-18c-1.0-1.x86_64.zip.001
  - curl -o oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm https://yum.oracle.com/repo/OracleLinux/OL7/latest/x86_64/getPackage/oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm
  - sudo yum -y localinstall oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm
  - rm oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm