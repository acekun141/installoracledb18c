language: python
os: linux
dist: xenial
sudo: required

env:
  ORACLE_SID=XE OCI_LIB_DIR=/u01/app/oracle/product/11.2.0/xe/lib LD_LIBRARY_PATH=/u01/app/oracle/product/11.2.0/xe/lib
before_install:
  - sudo apt-get install p7zip-full
  - sudo apt-get install yum
  - sudo apt-get install file initscripts
  - wget https://raw.githubusercontent.com/acekun141/installoracledb18c/master/download.sh
  - bash ./download.sh
  - 7z x oracle-database-xe-18c-1.0-1.x86_64.zip.001
  - curl -o oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm https://yum.oracle.com/repo/OracleLinux/OL7/latest/x86_64/getPackage/oracle-database-preinstall-18c-1.0-1.el7.x86_64.rpm
  - grep notify_only /etc/yum/pluginconf.d/search-disabled-repos.conf
  - With notify_only=1 this plugin does not modify yum's behaviour.
  - Setting notify_only to 0 will enable yum to try to automatically resolve notify_only=0
  - sudo yum -y localinstall oracle-database*18c*